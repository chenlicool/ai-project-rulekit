# AGENTS_DOCS.md (文档法典)

版本号: v1.0
生效时间: YYYY-MM-DD
适用对象: `MEMORY.md`, `ARCHITECTURE.md`, `README.md`, `API.md`, `CHANGELOG.md` 等所有文档的更新

## 1. 适用范围 (Scope)
所有文档的生成、更新、补丁输出。

## 2. 强制规则 (MUST)
- **模板强制输出**：任何功能改动后，必须按顺序输出：
  1. 更新 `MEMORY.md`（包含影响面判断与结果，8 行格式）
  2. `ARCHITECTURE.md` 最小补丁（按需）
  3. `README.md` / `API.md` 最小补丁（按需）
  4. `CHANGELOG.md` 最小补丁（按需）
- **影响面时机**：影响面判断必须在代码修改前完成，记录可以在事后写入 `MEMORY.md`。
- **最小补丁原则**：严禁重写整篇文档，只允许更新相关段落。
- **中文第一语言**：所有文档输出第一语言必须为中文；如需英文，中文在前英文在后。
- **单一事实来源**：`ARCHITECTURE.md` 为架构唯一真理，代码实现必须服从文档定义。
- **顺序规范**：`MEMORY.md` 必须按时间倒序维护，最新记录置顶，禁止在底部追加。

## 3. 模板定义 (MUST)
- **MEMORY.md 格式（8 行）**：
  - 时间 / 目标 / 改动 / 当前 / 禁止动 / 待办 / 回滚 / 约束
- **其他文档**：必须保留固定一级标题，禁止删除或重命名。

## 4. 禁止行为 (MUST NOT)
- 禁止补全未知信息；不确定必须标注“待确认/未知”。
- 禁止在补丁中进行发散性解释或建议。
- 禁止遗漏文档更新：代码变更但文档未同步视为任务失败。

## 5. 允许例外 (EXCEPTION)
- **初次创建**：新项目或新文档允许全篇输出。

## 6. 版本与变更说明 (Versioning)
- 规则收紧或新增强制步骤：提升 Minor 版本号（如 v1.1）。
- 破坏既有流程或模板结构：提升 Major 版本号（如 v2.0）。
- 仅文案澄清、不影响执行：可不升级版本号。
